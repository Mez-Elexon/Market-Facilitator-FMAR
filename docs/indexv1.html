<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elexon Market Facilitator - Flexibility Markets Development</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Giscus CSS -->
    <link rel="stylesheet" href="https://unpkg.com/giscus@latest/dist/giscus.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1><i class="fas fa-bolt"></i> Elexon Market Facilitator</h1>
                    <p>Flexibility Markets Development Hub</p>
                </div>
                <nav class="main-nav">
                    <ul>
                        <li><a href="#home" class="nav-link active" data-section="home">Home</a></li>
                        <li><a href="#fmar" class="nav-link" data-section="fmar">FMAR Design</a></li>
                        <li><a href="#rules" class="nav-link" data-section="rules">Rules Development</a></li>
                        <li><a href="#collaboration" class="nav-link" data-section="collaboration">Collaboration</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Filter Bar -->
    <div class="filter-bar">
        <div class="container">
            <div class="filter-controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search documents and content..." />
                    <button type="button" id="searchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="filter-options">
                    <select id="statusFilter">
                        <option value="">All Statuses</option>
                        <option value="draft">Draft</option>
                        <option value="review">Under Review</option>
                        <option value="approved">Approved</option>
                    </select>
                    <select id="typeFilter">
                        <option value="">All Types</option>
                        <option value="specification">Specification</option>
                        <option value="process">Process</option>
                        <option value="analysis">Analysis</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Home Section -->
            <section id="home" class="content-section active">
                <div class="hero-section">
                    <h1>GB Flexibility Markets Development</h1>
                    <p>Collaborative platform for developing FMAR design and market rules</p>
                    <div class="hero-stats">
                        <div class="stat">
                            <span class="stat-number">2</span>
                            <span class="stat-label">Work Programmes</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">8</span>
                            <span class="stat-label">Rules in Development</span>
                        </div>
                        <div class="stat">
                            <span class="stat-number">45+</span>
                            <span class="stat-label">Documents</span>
                        </div>
                    </div>
                </div>

                <div class="quick-overview">
                    <div class="overview-card">
                        <h3><i class="fas fa-cogs"></i> FMAR Design</h3>
                        <p>Flexibility Market Asset Registration solution design</p>
                        <ul>
                            <li>Ecosystem Architecture</li>
                            <li>Data Architecture</li>
                            <li>Application Architecture</li>
                            <li>Supporting Artefacts</li>
                        </ul>
                        <a href="#fmar" class="btn btn-primary">View FMAR Design</a>
                    </div>

                    <div class="overview-card">
                        <h3><i class="fas fa-gavel"></i> Rules Development</h3>
                        <p>8 flexibility market rules under development</p>
                        <ul>
                            <li>Dispatch Rules</li>
                            <li>E2E Process Rules</li>
                            <li>Prequalification Rules</li>
                            <li>Standard Agreements</li>
                            <li>And 4 more...</li>
                        </ul>
                        <a href="#rules" class="btn btn-primary">View Rules</a>
                    </div>
                </div>
            </section>

            <!-- FMAR Design Section -->
            <section id="fmar" class="content-section">
                <div class="section-header">
                    <h2>FMAR Design Programme</h2>
                    <p>Flexibility Market Asset Registration Solution Design</p>
                </div>

                <div class="architecture-grid">
                    <div class="arch-card" data-category="ecosystem">
                        <div class="card-header">
                            <h3><i class="fas fa-sitemap"></i> Ecosystem Architecture</h3>
                            <button class="expand-btn" data-target="ecosystem-content">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div class="card-content" id="ecosystem-content">
                            <p>Use cases, business processes, and role mappings</p>
                            <div class="document-list">
                                <div class="doc-item" data-status="draft" data-type="specification">
                                    <span class="doc-title">Use Case Catalogue v0.2</span>
                                    <span class="doc-status draft">Draft</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                                <div class="doc-item" data-status="review" data-type="process">
                                    <span class="doc-title">Business Process Modelling</span>
                                    <span class="doc-status review">Review</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="arch-card" data-category="data">
                        <div class="card-header">
                            <h3><i class="fas fa-database"></i> Data Architecture</h3>
                            <button class="expand-btn" data-target="data-content">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div class="card-content" id="data-content">
                            <p>Information models and data exchange contracts</p>
                            <div class="document-list">
                                <div class="doc-item" data-status="review" data-type="specification">
                                    <span class="doc-title">Information Map v0.1</span>
                                    <span class="doc-status review">Review</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                                <div class="doc-item" data-status="draft" data-type="specification">
                                    <span class="doc-title">Data Exchange Contracts</span>
                                    <span class="doc-status draft">Draft</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="arch-card" data-category="application">
                        <div class="card-header">
                            <h3><i class="fas fa-cogs"></i> Application Architecture</h3>
                            <button class="expand-btn" data-target="app-content">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div class="card-content" id="app-content">
                            <p>Service blueprints and API catalogues</p>
                            <div class="document-list">
                                <div class="doc-item" data-status="draft" data-type="specification">
                                    <span class="doc-title">API Catalogue v0.1</span>
                                    <span class="doc-status draft">Draft</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                                <div class="doc-item" data-status="draft" data-type="specification">
                                    <span class="doc-title">Service Blueprint</span>
                                    <span class="doc-status draft">Draft</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="arch-card" data-category="supporting">
                        <div class="card-header">
                            <h3><i class="fas fa-file-alt"></i> Supporting Artefacts</h3>
                            <button class="expand-btn" data-target="supporting-content">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div class="card-content" id="supporting-content">
                            <p>Additional specifications and requirements</p>
                            <div class="document-list">
                                <div class="doc-item" data-status="approved" data-type="specification">
                                    <span class="doc-title">DSI Requirements</span>
                                    <span class="doc-status approved">Approved</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                                <div class="doc-item" data-status="draft" data-type="specification">
                                    <span class="doc-title">Unique ID Conventions</span>
                                    <span class="doc-status draft">Draft</span>
                                    <a href="#" class="doc-link">View</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rules Development Section -->
            <section id="rules" class="content-section">
                <div class="section-header">
                    <h2>Rules Development</h2>
                    <p>8 Flexibility Market Rules under development</p>
                </div>

                <!-- Terms of Reference -->
                <div class="tor-section">
                    <h3><i class="fas fa-file-contract"></i> Terms of Reference</h3>
                    <p>Programme scope, governance structure, and development approach</p>
                    <a href="#" class="btn btn-outline">
                        <i class="fas fa-download"></i> Download Full TOR
                    </a>
                </div>

                <div class="rules-grid">
                    <div class="rule-card" data-status="approved" data-type="specification">
                        <div class="rule-header">
                            <h3><i class="fas fa-rocket"></i> Rule 1: Dispatch</h3>
                            <span class="rule-status approved">Approved</span>
                        </div>
                        <p>API specifications and dispatch procedures</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('dispatch')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('dispatch')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="dispatch-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #12 - March 2024</a>
                                <a href="#" class="material-item">WG #11 - February 2024</a>
                                <a href="#" class="material-item">WG #10 - January 2024</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="dispatch-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="dispatch"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="review" data-type="process">
                        <div class="rule-header">
                            <h3><i class="fas fa-route"></i> Rule 2: E2E Process</h3>
                            <span class="rule-status review">Review</span>
                        </div>
                        <p>End-to-end process design and optimization</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('e2e')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('e2e')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="e2e-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #11 - February 2024</a>
                                <a href="#" class="material-item">WG #10 - January 2024</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="e2e-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="e2e"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="specification">
                        <div class="rule-header">
                            <h3><i class="fas fa-check-circle"></i> Rule 3: Prequalification</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Prequalification requirements and processes</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('prequal')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('prequal')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="prequal-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #10 - January 2024</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="prequal-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="prequal"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="template">
                        <div class="rule-header">
                            <h3><i class="fas fa-handshake"></i> Rule 4: Standard Agreement</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Standard agreement templates and terms</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('agreement')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('agreement')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="agreement-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #9 - December 2023</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="agreement-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="agreement"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="process">
                        <div class="rule-header">
                            <h3><i class="fas fa-cogs"></i> Rule 5: Market Coordination</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Coordination mechanisms and governance</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('coordination')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('coordination')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="coordination-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #8 - November 2023</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="coordination-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="coordination"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="specification">
                        <div class="rule-header">
                            <h3><i class="fas fa-plug"></i> Rule 6: System Integration</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Integration with existing market systems</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('integration')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('integration')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="integration-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">WG #7 - October 2023</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="integration-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="integration"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="specification">
                        <div class="rule-header">
                            <h3><i class="fas fa-shield-alt"></i> Rule 7: Security & Compliance</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Security models and compliance requirements</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('security')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('security')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="security-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">Coming Soon</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="security-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="security"></div>
                        </div>
                    </div>

                    <div class="rule-card" data-status="draft" data-type="process">
                        <div class="rule-header">
                            <h3><i class="fas fa-chart-line"></i> Rule 8: Performance & Monitoring</h3>
                            <span class="rule-status draft">Draft</span>
                        </div>
                        <p>Performance metrics and monitoring requirements</p>
                        <div class="rule-actions">
                            <a href="#" class="btn btn-small">View Rule</a>
                            <button class="btn btn-small" onclick="toggleWGMaterials('performance')">
                                <i class="fas fa-download"></i> WG Materials
                            </button>
                            <button class="btn btn-small" onclick="toggleDiscussions('performance')">
                                <i class="fas fa-comments"></i> Discuss
                            </button>
                        </div>
                        <div class="wg-materials" id="performance-materials" style="display: none;">
                            <h4>Working Group Materials</h4>
                            <div class="material-list">
                                <a href="#" class="material-item">Coming Soon</a>
                            </div>
                        </div>
                        <div class="discussions-section" id="performance-discussions" style="display: none;">
                            <h4>Discussions</h4>
                            <div class="giscus-container" data-rule="performance"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Collaboration Section -->
            <section id="collaboration" class="content-section">
                <div class="section-header">
                    <h2>Collaboration Hub</h2>
                    <p>Get involved in the development process</p>
                </div>

                <div class="collaboration-grid">
                    <!-- GitHub Issues Widget -->
                    <div class="collab-card github-widget">
                        <h3><i class="fab fa-github"></i> Active Issues</h3>
                        <p>Track and contribute to ongoing discussions</p>
                        <div class="github-issues-widget" id="github-issues">
                            <div class="loading-spinner">
                                <i class="fas fa-spinner fa-spin"></i>
                                <span>Loading issues...</span>
                            </div>
                        </div>
                        <div class="widget-actions">
                            <a href="https://github.com/elexon/market-facilitator/issues/new" class="btn btn-primary" target="_blank">
                                <i class="fas fa-plus"></i> Create Issue
                            </a>
                            <a href="https://github.com/elexon/market-facilitator/issues" class="btn btn-outline" target="_blank">
                                <i class="fas fa-external-link-alt"></i> View All
                            </a>
                        </div>
                    </div>

                    <!-- GitHub Projects Widget -->
                    <div class="collab-card github-widget">
                        <h3><i class="fas fa-project-diagram"></i> Project Progress</h3>
                        <p>Track milestones and project status</p>
                        <div class="github-projects-widget" id="github-projects">
                            <div class="loading-spinner">
                                <i class="fas fa-spinner fa-spin"></i>
                                <span>Loading projects...</span>
                            </div>
                        </div>
                        <div class="widget-actions">
                            <a href="https://github.com/elexon/market-facilitator/projects" class="btn btn-primary" target="_blank">
                                <i class="fas fa-external-link-alt"></i> View Projects
                            </a>
                        </div>
                    </div>

                    <!-- Working Groups -->
                    <div class="collab-card">
                        <h3><i class="fas fa-users"></i> Working Groups</h3>
                        <p>Join monthly working group sessions</p>
                        <div class="upcoming-events">
                            <div class="event">
                                <strong>Next Session:</strong> April 15, 2024
                                <br>FMAR Workshop 2.3 - Security & Access Control
                            </div>
                        </div>
                        <a href="#" class="btn btn-outline">Register Interest</a>
                    </div>

                    <!-- General Discussions -->
                    <div class="collab-card">
                        <h3><i class="fas fa-comments"></i> General Discussions</h3>
                        <p>Community discussions and feedback</p>
                        <div class="discussions-section">
                            <div class="giscus-container" id="general-discussions"></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Elexon Market Facilitator</h3>
                    <p>Enabling collaboration on GB flexibility markets development</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#fmar">FMAR Design</a></li>
                        <li><a href="#rules">Rules Development</a></li>
                        <li><a href="#collaboration">Collaboration</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://www.elexon.co.uk" target="_blank">Elexon Main Site</a></li>
                        <li><a href="https://github.com/elexon/market-facilitator" target="_blank">GitHub Repository</a></li>
                        <li><a href="mailto:market-facilitator@elexon.co.uk">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Elexon. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Giscus Script -->
    <script src="https://unpkg.com/giscus@latest/dist/giscus.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
